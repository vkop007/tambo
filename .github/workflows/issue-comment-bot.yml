name: Issue Comment Bot

on:
  issue_comment:
    types: [created]

jobs:
  respond:
    # Only respond to issues (not PRs), open issues, unassigned issues,
    # and comments asking to work on the issue
    if: |
      !github.event.issue.pull_request &&
      github.event.issue.state == 'open' &&
      github.event.comment.user.type != 'Bot' &&
      github.event.comment.user.login != 'github-actions[bot]' &&
      !github.event.issue.assignee &&
      (
        contains(github.event.comment.body, 'can i work on this') ||
        contains(github.event.comment.body, 'Can I work on this') ||
        contains(github.event.comment.body, 'can i take this') ||
        contains(github.event.comment.body, 'Can I take this') ||
        contains(github.event.comment.body, 'i would like to work on this') ||
        contains(github.event.comment.body, 'I would like to work on this') ||
        contains(github.event.comment.body, 'is this available') ||
        contains(github.event.comment.body, 'Is this available')
      )
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    steps:
      - name: Respond to comment
        uses: mshick/add-pr-comment@b69c439d72a4e2139652e75967b48352f6413c81 # v2.8.2
        with:
          issue: ${{ github.event.issue.number }}
          message-id: tambo-issue-comment-bot
          message: |
            Thanks for your interest!

            We encourage you to go ahead and open a pull request - no need to ask permission first. Feel free to ask questions on the PR if you get stuck.

            Check out our [Contributing Guide](https://github.com/${{ github.repository }}/blob/main/CONTRIBUTING.md) for setup instructions.
